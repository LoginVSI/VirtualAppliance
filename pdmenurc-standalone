#!/usr/bin/pdmenu

#Note that the above bang-path isn't required, but it lets you run this
#file directly as a sort of pdmenu script.
color:base:black:black
color:desktop:blue:black
#Define the main menu:
preproc: /loginvsi/menu/getversion

menu:main:Maintenance Menu
	exit:Logout
	exec:Reboot::sudo reboot
	nop
	exec:Change your password:pause:/loginvsi/menu/changepassword
	preproc: /loginvsi/menu/gethostname
	exec:Regenerate self-signed certificates:/loginvsi/menu/regeneratessl
	nop
	show:Network Configuration::network_conf
	show:Troubleshooting::troubleshooting
	nop
	
menu:troubleshooting:Troubleshooting
	exit:Back to main menu
	nop
	exec:Start SSH server:pause:/etc/init.d/ssh start
	exec:Restart portainer:pause:docker restart portainer
	exec:Ping:edit,pause:clear;ping ~Address:~
	exec:Show netstat:display:netstat -tuna
	exec:Show LoginVSI service status:display:docker ps -a -f name=loginvsi_
	exec:Restart LoginVSI services:pause:loginvsid restart
	exec:Open bash shell::/bin/bash
	
		
menu:network_conf:Network Config
	exit:Back to main menu
	nop
	preproc: /loginvsi/menu/getnetworkadapters
	exec:Show Network interfaces:display:/sbin/ifconfig -a
	exec:Show Routes:display:/sbin/route -n
	nop

	
